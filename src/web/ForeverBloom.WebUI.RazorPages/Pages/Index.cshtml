@page
@model ForeverBloom.WebUI.RazorPages.Pages.IndexPageModel

<!-- Homepage Hero Carousel -->
<section class="home-hero" aria-label="Prezentacja zdjęć – kompozycje Forever Bloom Studio">
  <div id="heroCarousel" class="carousel slide" data-bs-interval="false">

    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="/images/assets/index/hero-1.avif" class="d-block w-100 object-fit-cover"
             alt="Minimalistyczna aranżacja wnętrza z naturalnymi akcentami" style="height: 100vh;"/>
        <div class="carousel-caption hero-carousel-caption">
          <h1 class="h1 display-5 fw-bold text-white">Zamykamy w kwiatach czas</h1>
          <p class="lead text-white">Wprowadzamy do Twojego domu energię płynącą z natury. Prawdziwe rośliny,
            prawdziwe emocje - uchwycone w pięknych ramach.</p>
          <div class="mt-3">
            <a class="btn btn-primary" asp-page="/Category" asp-route-slug="obrazy-botaniczne">
              Zobacz nasze realizacje
            </a>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="/images/assets/index/hero-2.avif" class="d-block w-100 object-fit-cover"
             alt="Zbliżenie na strukturę suszonych roślin w świetle" style="height: 100vh;"/>
        <div class="carousel-caption hero-carousel-caption">
          <h1 class="h1 display-5 fw-bold text-white">Zamykamy w kwiatach czas</h1>
          <p class="lead text-white">Zachowujemy piękno kwiatów i wspomnienie wyjątkowej chwili w obrazie, który
            pozostanie z Tobą na długie lata. Konserwacja bukietu ślubnego to wyjątkowa, ponadczasowa pamiątka
            ślubna.</p>
          <div class="mt-3">
            <a class="btn btn-primary" asp-page="/Category" asp-route-slug="obrazy-botaniczne">
              Zobacz nasze realizacje
            </a>
          </div>
        </div>
      </div>
    </div>

    <button class="carousel-control-prev carousel-control-overlay" type="button" data-bs-target="#heroCarousel"
            data-bs-slide="prev" aria-label="Poprzedni slajd">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Poprzedni</span>
    </button>
    <button class="carousel-control-next carousel-control-overlay" type="button" data-bs-target="#heroCarousel"
            data-bs-slide="next" aria-label="Następny slajd">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Następny</span>
    </button>
  </div>
</section>

@* Intro section: image left, text right *@
<section class="py-5" aria-labelledby="intro-heading">
  <div class="container">
    <div class="row align-items-center g-4">
      <div class="col-12 col-md-6">
        <div class="intro-image-wrapper rounded overflow-hidden">
          <img src="/images/assets/index/intro.avif" class="img-fluid w-100"
               alt="Ręcznie tworzone kompozycje z suszonych kwiatów" loading="lazy">
        </div>
      </div>
      <div class="col-12 col-md-6">
        <p class="lead mb-3">
          Jestem Ania, a obok mnie Marek — mój partner i najlepszy przyjaciel od 15 lat. Razem wybieramy najpiękniejsze
          rośliny do uprawy, suszymy je w naszej pracowni, dobieramy najwyższej jakości materiały do oprawy i
          własnoręcznie wykonujemy prasy drewniane do suszenia kwiatów.
        </p>
        <p class="lead mb-3">
          Sercem Forever Bloom Studio jest miłość do roślin, szacunek do rzemiosła i wiara w uzdrawiającą moc natury.
          Każdy obraz powstaje ręcznie i w jednym egzemplarzu.
        </p>
        <p class="lead mb-4">
          Kwiaty są naturalne — z czasem mogą subtelnie zmieniać odcień, zachowując swój piękny, organiczny kształt przez
          długie lata. Aby cieszyły oczy jak najdłużej, eksponuj je z dala od bezpośredniego światła słonecznego i wilgoci.
        </p>
        <a class="btn btn-outline-secondary" asp-page="/About">Dowiedz się więcej</a>
      </div>
    </div>
  </div>
</section>

@* Featured Products Grid *@
@if (Model.ShowFeaturedProducts)
{
  <section class="py-5" aria-labelledby="featured-products-heading">
    <div class="container">
      <div class="d-flex align-items-center justify-content-between mb-4">
        <h2 id="featured-products-heading" class="h3 mb-0">Wybrane realizacje</h2>
        <a class="btn btn-outline-secondary" asp-page="/Catalog">Zobacz więcej</a>
      </div>

      <div class="h-scroll-wrapper">
        <button type="button" class="btn btn-outline-secondary h-scroll-btn h-scroll-btn-left h-scroll-btn-hidden"
                aria-label="Przewiń w lewo">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button type="button" class="btn btn-outline-secondary h-scroll-btn h-scroll-btn-right h-scroll-btn-hidden"
                aria-label="Przewiń w prawo">
          <i class="fas fa-chevron-right"></i>
        </button>

        <div class="h-scroll gap-3 pb-2" id="featuredScroller">
          @foreach (var item in Model.FeaturedProducts!.Items)
          {
            <div class="flex-shrink-0" style="width: 270px;">
              <a class="text-decoration-none text-body" href="/produkt/@item.Slug" aria-label="@item.Name">
                <div class="card h-100 shadow-sm product-card">
                  @{
                    var featuredImageSource = string.IsNullOrWhiteSpace(item.ImageSource)
                      ? "/images/assets/no-image.png"
                      : item.ImageSource;
                    var featuredImageAltText = string.IsNullOrWhiteSpace(item.ImageAltText)
                      ? string.Empty
                      : item.ImageAltText;
                  }
                  <img src="@featuredImageSource"
                       class="card-img-top img-fluid object-fit-cover"
                       alt="@featuredImageAltText"
                       loading="lazy"
                       style="aspect-ratio: 1 / 1;"/>
                  <div class="card-body">
                    <h3 class="h6 card-title mb-1">@item.Name</h3>
                  </div>
                </div>
              </a>
            </div>
          }
        </div>
      </div>
    </div>
  </section>
}
