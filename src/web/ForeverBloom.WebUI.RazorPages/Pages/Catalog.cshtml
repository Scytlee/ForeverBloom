@page "/katalog"
@model ForeverBloom.WebUI.RazorPages.Pages.CatalogPageModel

<div class="catalog-page">
  <!-- Hero Section -->
  <section class="catalog-hero py-5">
    <div class="container">
      <div class="row justify-content-center text-center">
        <div class="col-lg-8">
          <h1 class="display-4 mb-3">Katalog</h1>
          <p class="lead mb-0">Odkryj nasze kolekcje suszonych kwiatów i kompozycji</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories Grid -->
  <section class="catalog-categories py-5">
    <div class="container">
      @if (!string.IsNullOrEmpty(Model.ErrorMessage))
      {
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="alert alert-warning text-center" role="alert">
              <i class="fas fa-exclamation-triangle me-2"></i>
              @Model.ErrorMessage
            </div>
          </div>
        </div>
      }
      else if (Model.CategoryTree?.Categories?.Any() == true)
      {
        <div class="category-grid">
          @foreach (var category in Model.CategoryTree.Categories)
          {
            <div class="category-tile">
              <a asp-page="/Category" asp-route-slug="@category.Slug" class="category-tile-link">
                <div class="category-tile-image"
                     role="img"
                     aria-label="@(category.ImageAltText ?? category.Name)"
                     style="background-image: url('@((category.ImageSource ?? "/images/assets/category-banner.avif"))');">
                  <div class="category-tile-overlay">
                    <h3 class="category-tile-title">@category.Name</h3>
                    @if (category.Children.Any())
                    {
                      <p class="category-tile-count">@category.Children.Count kategorii</p>
                    }
                  </div>
                </div>
              </a>
            </div>
          }
        </div>
      }
      else
      {
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="text-center py-5">
              <i class="fas fa-seedling fa-3x text-muted mb-3"></i>
              <h3 class="text-muted">Brak kategorii</h3>
              <p class="text-muted">Wkrótce dodamy nowe kategorie produktów.</p>
            </div>
          </div>
        </div>
      }
    </div>
  </section>
</div>
